---
title: "Visualizacion"
author: "Lucía Martínez Valderas"
date: "2024-03-01"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Trabajo de Visualización
```{r}
#Primero cargamos las librerías que vamos a necesitar
library(readr)
library(ggplot2)
library(plotly)
library(scales)
#A continuación cargamos el fichero de datos
owid_covid_data <- read_csv("owid-covid-data.csv")
#Primero seleccionamos los paises que vamos a utilizar en la tabla, este será nuestro nuevo data frame con el que vamos a crear la gráfica
paises_selecionados<-c("United States","Italy","France","Germany","Canada","Japan","United Kingdom","Spain")
#A continuacion, vamos a asignarle un color a cada pais y de esta forma podremos definir que los datos de "Spain" se muestre de coloor rojo
color_paises <-  c("United States" = "purple",
                                  "Italy" = "lightblue",
                                  "France" = "orange",
                                  "Germany" = "green",
                                  "Canada" = "brown",
                                  "Japan" = "darkblue",
                                  "United Kingdom" = "pink",
                                  "Spain" = "red")
#asignaremos en una variable los datos de la columna "location" que pertencen a "owid_covid_data los cuales coinciden con los paises que nos interesen y que hemos guardado antes en la variable "paises_seleccionados"
paises<-owid_covid_data[owid_covid_data$location %in% paises_selecionados, ]
# en este caso , podemos observar como tenemos datos faltantes los cuales los vamos a reemplazar por 0
paises$total_cases[is.na(paises$total_cases)]<-0
#comenzaremos con la grafica
g<- ggplot(paises,aes(x=date,y=total_cases))+
  geom_line(aes(colour=location, size = ifelse(location == "Spain",1 ,0)))+
  theme(panel.grid.major.y = element_line(color = "grey",size = 0.5,linetype = 2))
g<- g + scale_x_date(breaks="%b %d,%Y", date_breaks="1 year")
g<- g + scale_y_continuous(breaks=seq(0,18,by=2)) 
g <- g + scale_colour_manual(values = color_paises)
g <- g + theme(legend.position = "none")
g


```

